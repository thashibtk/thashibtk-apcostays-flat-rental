{% extends 'base.html' %}
{% load static %}

{% block title %}Edit Profile - Apcostays{% endblock %}

{% block extrahead %}
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}

{% block content %}
<div class="logsincontainer mt-5">  
    <div class="wrapper">
        <div class="title-text">
            <div class="title">Edit Profile</div>
        </div>

        <div class="form-container">
            <div class="field profile-img">
                <label for="profile-image" class="form-label"></label>
                <svg width="100px" height="100px" viewBox="0 0 967 960" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M966.5 480C966.5 508.454 964.004 536.326 959.22 563.416C919.459 788.508 721.596 959.564 483.5 959.564C476.186 959.564 468.912 959.404 461.679 959.084C205.051 947.752 0.5 737.594 0.5 480C0.5 215.144 216.746 0.436401 483.5 0.436401C750.254 0.436401 966.5 215.144 966.5 480Z" fill="#1176FF"/>
                    <path d="M959.22 563.416C919.459 788.508 721.596 959.564 483.5 959.564C476.186 959.564 468.912 959.404 461.679 959.084C354.119 852.267 265.115 763.827 264.419 763.034C250.412 750.993 242.799 732.633 244.91 713.587C249.596 671.22 263.12 629.047 294.032 609.945C350.997 574.748 407.543 559.75 407.543 559.75C409.538 553.596 411.775 533.226 412.948 512.376C405.731 504.937 398.584 497.173 391.046 489.814C378.867 477.928 375.854 461.72 372.094 441.31C369.403 440.122 367.868 437.827 366.482 435.726C366.47 435.709 366.459 435.686 366.442 435.663C363.71 434.487 362.164 432.169 360.766 430.051C360.755 430.034 360.743 430.011 360.726 429.988C357.995 428.812 356.448 426.494 355.051 424.382C353.349 421.79 352.676 418.69 352.044 415.664C349.749 404.777 347.455 393.896 345.167 383.014C343.442 374.839 341.711 366.463 342.878 358.191C343.442 354.28 344.839 350.181 348.076 347.88C351.308 345.579 356.713 346.133 358.334 349.747C358.334 349.747 353.09 298.519 353.09 302.83C348.709 298 345.241 287.484 346.69 279.354C348.139 271.23 350.744 263.323 352.044 255.176C353.458 246.224 353.314 236.993 355.902 228.303C359.547 216.057 368.27 206.021 377.148 196.778C383.439 190.235 389.942 183.875 397.032 178.206C411.24 166.868 428.174 158.338 446.292 156.323C452.105 155.678 457.97 155.707 463.818 155.735C470.373 155.769 476.939 155.798 483.5 155.832C490.061 155.798 496.627 155.769 503.182 155.735C509.03 155.707 514.895 155.678 520.708 156.323C538.827 158.338 555.76 166.868 569.969 178.206C576.161 183.156 581.9 188.631 587.443 194.3C588.599 195.408 793.419 398.771 959.22 563.416Z" fill="#1052E5"/>
                    <path d="M686.74 772.692C650.996 787.209 586.966 804.276 483.5 804.276C380.035 804.276 316.004 787.209 280.261 772.692C256.498 763.042 242.106 738.927 244.908 713.586C249.595 671.22 263.122 629.048 294.034 609.947C350.999 574.749 407.544 559.751 407.544 559.751C409.537 553.595 411.776 533.228 412.948 512.375C405.734 504.934 398.584 497.17 391.043 489.812C376.688 475.804 375.072 455.783 369.948 429.958C360.531 432.615 357.553 428.164 355.053 424.379C353.349 421.791 352.678 418.69 352.041 415.663C349.746 404.779 347.456 393.895 345.166 383.011C343.443 374.836 341.711 366.461 342.88 358.189C343.438 354.278 344.839 350.179 348.074 347.878C351.309 345.581 356.714 346.136 358.334 349.745C358.334 349.745 353.088 298.519 353.088 302.831C348.707 298.002 345.24 287.483 346.692 279.353C348.14 271.228 350.742 263.321 352.04 255.173C353.46 246.225 353.311 236.991 355.899 228.303C359.549 216.056 368.271 206.017 377.148 196.779C383.436 190.235 389.939 183.875 397.033 178.205C411.239 166.868 428.173 158.337 446.289 156.321C452.103 155.679 457.968 155.707 463.814 155.734C470.372 155.767 476.935 155.799 483.498 155.832C490.061 155.799 496.624 155.768 503.182 155.735C509.028 155.707 514.894 155.679 520.708 156.321C538.824 158.337 555.758 166.868 569.964 178.205C577.058 183.876 583.56 190.235 589.849 196.779C598.726 206.017 607.449 216.056 611.098 228.303C613.686 236.991 613.537 246.225 614.957 255.173C616.256 263.321 618.857 271.228 620.305 279.353C621.757 287.482 618.289 298.001 613.909 302.831C613.909 298.519 608.663 349.745 608.663 349.745C610.283 346.136 615.687 345.581 618.922 347.878C622.157 350.179 623.559 354.279 624.117 358.189C625.285 366.461 623.554 374.836 621.831 383.011C619.541 393.895 617.251 404.779 614.956 415.663C614.318 418.689 613.648 421.791 611.944 424.379C609.445 428.164 606.466 432.615 597.049 429.958C591.924 455.783 590.309 475.804 575.954 489.812C568.413 497.17 561.264 504.934 554.049 512.375C555.222 533.228 557.461 553.595 559.452 559.751C559.452 559.751 615.998 574.749 672.963 609.947C703.875 629.048 717.402 671.22 722.089 713.586C724.894 738.927 710.502 763.043 686.74 772.692Z" fill="white"/>
                </svg>   
            </div>
            <div class="form-inner">
                <form method="POST">
                    {% csrf_token %}
                    
                    <div class="field">
                        <label for="name">Full Name:</label>
                        <input type="text" id="name" name="name" value="{{ user.Name }}">
                    </div>
                    
                    <div class="field">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" value="{{ user.Email }}">
                    </div>
                    
                    <div class="field">
                        <label for="location">Location:</label>
                        <input type="text" id="location" name="location" value="{{ user.Location }}">
                    </div>
                    
                    <div class="field">
                        <label for="phone">Phone Number:</label>
                        <input type="tel" id="phone" name="phone" value="{{ user.Phone }}">
                    </div>
                    
                    <div class="field">
                        <label for="password">New Password (optional):</label>
                        <input type="password" id="password" name="password">
                    </div>
                    
                    <div class="field">
                        <label for="confirm_password">Confirm Password:</label>
                        <input type="password" id="confirm_password" name="confirm_password">
                    </div>
                
                    {% if error %}
                        <p style="color: red;">{{ error }}</p>
                    {% endif %}
                
                    <div class="container button-container">
                        <button type="submit" class="savebutton savebtn">Save</button>
                        <button type="button" class="savebutton cancelbtn" id="editButton" onclick="window.location.href='{% url 'viewprofile' %}'">Cancel</button>
                    </div> 
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
